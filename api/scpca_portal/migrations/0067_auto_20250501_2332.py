# Generated by Django 3.2.25 on 2025-05-01 23:32

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("scpca_portal", "0066_auto_20250407_1934"),
    ]

    operations = [
        migrations.RenameField(
            model_name="dataset",
            old_name="errored_at",
            new_name="failed_at",
        ),
        migrations.RenameField(
            model_name="dataset",
            old_name="error_message",
            new_name="failed_reason",
        ),
        migrations.RenameField(
            model_name="dataset",
            old_name="is_errored",
            new_name="is_failed",
        ),
        migrations.RenameField(
            model_name="dataset",
            old_name="is_processed",
            new_name="is_succeeded",
        ),
        migrations.RenameField(
            model_name="dataset",
            old_name="processed_at",
            new_name="succeeded_at",
        ),
        migrations.RenameField(
            model_name="job",
            old_name="failure_reason",
            new_name="failed_reason",
        ),
        migrations.AddField(
            model_name="dataset",
            name="is_terminated",
            field=models.BooleanField(default=False),
        ),
        migrations.AddField(
            model_name="dataset",
            name="terminated_at",
            field=models.DateTimeField(null=True),
        ),
        migrations.AddField(
            model_name="dataset",
            name="terminated_reason",
            field=models.TextField(null=True),
        ),
        migrations.AddField(
            model_name="job",
            name="failed_at",
            field=models.DateTimeField(null=True),
        ),
        migrations.AddField(
            model_name="job",
            name="succeeded_at",
            field=models.DateTimeField(null=True),
        ),
        migrations.AddField(
            model_name="job",
            name="terminated_reason",
            field=models.TextField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name="dataset",
            name="ccdl_name",
            field=models.TextField(
                choices=[
                    ("ALL_METADATA", "All Metadata"),
                    ("SINGLE_CELL_SINGLE_CELL_EXPERIMENT", "Single Cell Single Cell Experiment"),
                    (
                        "SINGLE_CELL_SINGLE_CELL_EXPERIMENT_NO_MULTIPLEXED",
                        "Single Cell Single Cell Experiment No Multiplexed",
                    ),
                    (
                        "SINGLE_CELL_SINGLE_CELL_EXPERIMENT_MERGED",
                        "Single Cell Single Cell Experiment Merged",
                    ),
                    ("SINGLE_CELL_ANN_DATA", "Single Cell Ann Data"),
                    ("SINGLE_CELL_ANN_DATA_MERGED", "Single Cell Ann Data Merged"),
                    ("SPATIAL_SINGLE_CELL_EXPERIMENT", "Spatial Single Cell Experiment"),
                ],
                null=True,
            ),
        ),
        migrations.AlterField(
            model_name="job",
            name="state",
            field=models.TextField(
                choices=[
                    ("CREATED", "Created"),
                    ("SUBMITTED", "Submitted"),
                    ("COMPLETED", "Completed"),
                    ("SUCCEEDED", "Succeeded"),
                    ("FAILED", "Failed"),
                    ("TERMINATED", "Terminated"),
                ],
                default="CREATED",
            ),
        ),
    ]
